function run_experiments()

% setup paths
setup;

% Fine-tune imagenet-vgg-m on the clipartgpb dataset
net = run_train('clipartgpb', ...
    'modelName', 'imagenet-vgg-m',... 
    'prefix', 'v1', ...
    'batchSize', 24, ...
    'augmentation', 'f2', ...
    'gpuMode', true);
modelName = 'imagenet-vgg-m-finetuned-clipartgpb-v1';
save(fullfile('data','models',[modelName '.mat']),'-struct','net');

% compute cnn features on clipartgpb dataset
featCell = imdb_compute_cnn_features('clipartgpb', modelName, ...
    'augmentation', 'none', ...
    'gpuMode', true, ...
    'normalization', false, ...
    'layers', {'fc6','fc7'});

% evaluation 
run_evaluate(featCell{2}, ...
    'cv', 5, ...
    'logDir', 'log');
